<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="TrustRAG: Enhancing Robustness and Trustworthiness in RAG">
  <meta name="keywords" content="Retrieval-Augmented Generation, Trustworthy">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TrustRAG: Enhancing Robustness and Trustworthiness in RAG</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/ca2.png">
  <!-- <link rel="icon" href="./static/images/favicon.svg"> -->

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>

<body>
<nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
<!--   <div class="navbar-menu">
    <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
      <a class="navbar-item" href="https://keunhong.com">
      <span class="icon">
          <i class="fas fa-home"></i>
      </span>
      </a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">
          More Research
        </a>
        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://hypernerf.github.io">
            HyperNeRF
          </a>
          <a class="navbar-item" href="https://nerfies.github.io">
            Nerfies
          </a>
          <a class="navbar-item" href="https://latentfusion.github.io">
            LatentFusion
          </a>
          <a class="navbar-item" href="https://photoshape.github.io">
            PhotoShape
          </a>
        </div>
      </div>
    </div>

  </div> -->
</nav>


<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">TrustRAG: Enhancing Robustness and Trustworthiness in RAG</h1>
          <div class="is-size-5 publication-authors">
            <span class="author-block">
              <a href="https://huichizhou.github.io/">Huichi Zhou</a><sup style="color:#6fbf73;">1 </sup><sup>*</sup></span>
            <span class="author-block">
              <a>Kin-Hei Lee</a><sup style="color:#6fbf73">1 </sup><sup>*</sup>
            </span>
            <span class="author-block">
              <a target="_blank" href="">Zhonghao Zhan</a><sup
                style="color:#6fbf73;">1</sup><sup>*</sup></span>
            <span class="author-block">
              <a target="_blank" href="https://github.com/Cold114514">Yue Chen</a><sup style="color:#ffac33;">2</sup>
            </span>
            <span class="author-block">
              <a target="_blank" href="">Zhenhao Li</a><sup
                style="color:#6fbf73;">1</sup>
            </span>
            <span class="author-block">
              <a target="_blank" href="https://zhaoyang.win/">Zhaoyang Wang</a><sup style="color:#ed4b82;">3</sup>
            </span>
            
            <span class="author-block">
              <a target="_blank" href="https://profiles.imperial.ac.uk/h.haddadi">Hamed Haddadi</a><sup style="color:#6fbf73;">1</sup>
            </span>
            <span class="author-block">
              <a target="_blank" href="https://scholar.google.com/citations?hl=en&user=ocmAN4YAAAAJ">Emine Yilmaz</a><sup style="color:#4bd3ed;">4</sup>
            </span>
          </div>

          <div class="is-size-5 publication-authors">
            <span class="author-block"><sup style="color:#6fbf73;">1</sup>Imperial College London</span>
            <br>
            <span class="author-block"><sup style="color:#ffac33;">2</sup>Peking University</span>
            <br>
            <span class="author-block"><sup style="color:#ed4b82">3</sup>University of North Carolina at Chapel Hill</span>
            <br>
            <span class="author-block"><sup style="color:#4bd3ed;">4</sup>University College London</span>
            <br>
            <span class="author-block"><sup>*</sup>Equal Contribution</span>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- PDF Link. -->
              <span class="link-block">
                <a href="https://arxiv.org/pdf/2501.00879"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              
              <!-- arXiv Link. -->
              <span class="link-block">
                <a href="https://arxiv.org/abs/2501.00879"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>

              <!-- GitHub Code Link. -->
              <span class="link-block">
                <a href="https://github.com/HuichiZhou/TrustRAG"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                </a>
              </span>

              <!-- <span class="link-block">
                <a href="https://et-seed.github.io"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>

              <span class="link-block">
                <a href="https://et-seed.github.io"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-youtube"></i>
                  </span>
                  <span>Video</span>
                </a>
              </span>

              <span class="link-block">
                <a href="https://et-seed.github.io"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                  </a>
              </span> -->
              <!-- Dataset Link. -->
<!--               <span class="link-block">
                <a href="https://github.com/google/nerfies/releases/tag/0.1"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="far fa-images"></i>
                  </span>
                  <span>Data</span>
                  </a>
              </span> -->
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- <section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <img src="./static/images/teaser_v14-1.png"/>
      <p>
        ET-SEED is a visual imitation learning algorithm that marries
        SE(3) equivariant visual representations with diffusion policies. 
        (a) ET-SEED achieve surprising <b>efficiency</b> and <b>spatial generalization</b> than baselines. 
        (b) When the input object observation is rotated or translated, 
        the output action sequence change equivariantly. 
        (c) Visualizations of simulation environments.
      </p>
    </div>
  </div>
</section> -->


<!-- <section class="hero is-light is-small">
  <div class="hero-body">
    <div class="container">
      <div id="results-carousel" class="carousel results-carousel">
        <div class="item item-steve">
          <video poster="" id="steve" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/steve.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-chair-tp">
          <video poster="" id="chair-tp" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/chair-tp.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-shiba">
          <video poster="" id="shiba" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/shiba.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-fullbody">
          <video poster="" id="fullbody" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/fullbody.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-blueshirt">
          <video poster="" id="blueshirt" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/blueshirt.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-mask">
          <video poster="" id="mask" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/mask.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-coffee">
          <video poster="" id="coffee" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/coffee.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-toby">
          <video poster="" id="toby" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/toby2.mp4"
                    type="video/mp4">
          </video>
        </div>
      </div>
    </div>
  </div>
</section> -->


<section class="section">
  <div class="container is-max-desktop">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <hr style="margin-top:0px">
        <div class="content has-text-justified">
          <p>
            Retrieval-Augmented Generation (RAG) systems enhance large language models (LLMs) by integrating external knowledge sources, enabling more accurate and contextually relevant responses tailored to user queries. However, these systems remain vulnerable to corpus poisoning attacks that can significantly degrade LLM performance through the injection of malicious content. To address these challenges, we propose TrustRAG, a robust framework that systematically filters compromised and irrelevant content before it reaches the language model. Our approach implements a two-stage defense mechanism: first, it employs K-means clustering to identify potential attack patterns in retrieved documents based on their semantic embeddings, effectively isolating suspicious content. Second, it leverages cosine similarity and ROUGE metrics to detect malicious documents while resolving discrepancies between the model's internal knowledge and external information through a self-assessment process. TrustRAG functions as a plug-and-play, training-free module that integrates seamlessly with any language model, whether open or closed-source, maintaining high contextual relevance while strengthening defenses against attacks. Through extensive experimental validation, we demonstrate that TrustRAG delivers substantial improvements in retrieval accuracy, efficiency, and attack resistance compared to existing approaches across multiple model architectures and datasets. We have made TrustRAG available as open-source software at <a href="https://github.com/HuichiZhou/TrustRAG" target="_blank">https://github.com/HuichiZhou/TrustRAG</a>.
          </p>
        </div>
      </div>
    </div>
    <!--/ Abstract. -->

    <!-- Paper video. -->
    <!-- <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Video</h2>
        <hr style="margin-top:0px">
        <div class="publication-video">
          <iframe src=""
                  frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      </div>
    </div> -->
    <!--/ Paper video. -->
    <!-- <div class="columns is-centered has-text-centered">
      <div class="column is-full-width">
        <h2 class="title is-3"><br>Method</h2>
        <hr style="margin-top:0px">
        <h3 class="title is-4">Full Pipeline</h3>
        <img src="./static/images/Pipline_v9.png">
      </div>
    </div> -->
  </div>
</section>


<section class="section">
  <div class="container is-max-desktop">
    <!-- Animation. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-full-width">
        <h2 class="title is-3">Our Method: TrustRAG</h2>
        <hr style="margin-top:0px">
        <img src="./static/images/Method.jpg" width="100%"/>
        <p>
        Figure 1: The TrustRAG framework defends against corpus poisoning attacks in RAG systems through a five-step process: (1) identifying
malicious documents using K-means clustering, (2) filtering malicious content based on embedding distribution, (3) extracting internal
knowledge for accurate reasoning, (4) resolving conflicts by grouping consistent documents and removing irrelevant or conflicting ones,
and (5) generating the reliable final answer.
        </p>
      </div>
    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Experimental Results</h2>
        <div class="content has-text-justified">
          <ul>
            <li>
              We conduct comprehensive experiments compared with different defense frameworks and RAG systems under the attacks of two kinds of popular methods 
              (PIA (Zhong et al., 2023) and PoisonedRAG (Zou et al., 2024)) 
              based on the three kinds of large language models. The more detailed results of PoisonedRAG in different poison rate can be found in the Table 4, Table 5, and Table 6.
            </li>
          </ul>
        </div>
      </div>
    </div>


    <div class="container">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Main Results</h2>
          <div class="content has-text-justified">
            <p style="text-align: center;">
              <a href="https://arxiv.org/pdf/2501.00879" target="_blank" rel="external">
                <img class="center-block org-banner" src="./static/images/main_result.png" width="100%"
                  style="display: inline-block;">
              </a>
            </p>
            <p align="center">
              Table 1: Main Results show that different defense frameworks and RAG systems defend against two kinds of attack methods based on
three kinds of large language models.
            </p>
          </div>
        </div>
      </div>
    </div>    


    <div class="container">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <!-- 修改 Detailed Analysis of TrustRAG 的字体大小 -->
          <h2 class="title is-3">Detailed Analysis of TrustRAG</h2>
          <!-- Effectiveness of K-means Filtering Strategy 保持不变 -->
          <h2 class="title is-4">(1) Effectiveness of K-means Filtering Strategy</h2>
          <h2 class="title is-5">(1.1) Distribution of Poisoned Documents</h2>
          
          <ul>
            <li>
              Figure below plot a case in which samples from the NQ data set are used in different numbers of poisoned documents.
              It can be seen that in the scenario of multiple malicious documents, the malicious documents are close to each other, as for a single poisoned document, which will mix in the clean documents. Therefore, 
              it is important to use the n-gram preservation to preserve the clean documents
            </li>
          </ul>
          
          <div class="content has-text-justified">
            <p style="text-align: center;">
              <a href="https://arxiv.org/pdf/2501.00879" target="_blank" rel="external">
                <img class="center-block org-banner" src="./static/images/embedding_page-0001.jpg" width="100%"
                  style="display: inline-block;">
              </a>
            </p>
            <p align="center">
              Figure5: The embedding distribution of retrieved documents
            </p>
          </div>
        </div>
      </div>
    </div> 
    
    <div class="container">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-5">(1.2) N-gram preservation and Embedding Models</h2>
          <div class="content has-text-justified">
            <p style="text-align: center;">
              <a href="https://arxiv.org/pdf/2501.00879" target="_blank" rel="external">
                <img class="center-block org-banner" src="./static/images/table2.png" width="100%"
                  style="display: inline-block;">
              </a>
            </p>
            <p align="center">
              Table 2: Results on various datasets with different Poisoning levels and embedding models. F1 score measures the performance of
detecting poisoned samples, while Clean Retention Rate (CRR) evaluates the proportion of clean samples retained after filtering.
            </p>
          </div>
        </div>
      </div>
    </div> 

    <div class="container">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-4">(2) Runtime Analysis </h2>
          <div class="content has-text-justified">
            <p style="text-align: center;">
              <a href="https://arxiv.org/pdf/2501.00879" target="_blank" rel="external">
                <img class="center-block org-banner" src="./static/images/table3.png" width="80%"
                  style="display: inline-block;">
              </a>
            </p>
            <p align="center">
              Table 3. TrustRAG runtime analysis based on Llama3.1-8B for 100 queries in three different datasets.
            </p>
          </div>
        </div>
      </div>
    </div> 

    <div class="container">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-4">(3) Effectiveness of Perplexity-based Detection </h2>
          <div class="content has-text-justified">
            <p style="text-align: center;">
              <a href="https://arxiv.org/pdf/2501.00879" target="_blank" rel="external">
                <img class="center-block org-banner" src="./static/images/ablation_page-0001.jpg" width="100%"
                  style="display: inline-block;">
              </a>
            </p>
            <p align="center">
              Figure 2: (1) The perplexity distribution density plot between clean and malicious documents. And the lines of dashes represent the
average perplexity values. (2) The bar plot of ablation study on accuracy in NQ dataset based on the Llama3.1-8B. (3) The bar plot of
ablation study on attack success rate in NQ dataset based on the Llama3.1-8B.
            </p>
          </div>
        </div>
      </div>
    </div> 

    <div class="container">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-4">(4) Impact of Context Window </h2>
          <div class="content has-text-justified">
            <p style="text-align: center;">
              <a href="https://arxiv.org/pdf/2501.00879" target="_blank" rel="external">
                <img class="center-block org-banner" src="./static/images/topk_page-0001.jpg" width="100%"
                  style="display: inline-block;">
              </a>
            </p>
            <p align="center">
              Figure 4: (1) The line plot of accuracy between TrustRAG and Vanilla RAG on clean scenario. (2) The line plot of accuracy between
TrustRAG and Vanilla RAG on malicious scenario. (3) The line plot of attack successful rate between TrustRAG and Vanilla RAG on
malicious scenario. All the context windows set from 5 to 20 and the malicious scenario includes 5 malicious documents.
            </p>
          </div>
        </div>
      </div>
    </div> 

       


<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title is-3 has-text-centered">Reference</h2>
    <p>If you find our work helpful, please kindly cite our paper:</p>
    <pre><code>@article{zhou2025trustrag,
      title={TrustRAG: Enhancing Robustness and Trustworthiness in RAG}, 
      author={Huichi Zhou and Kin-Hei Lee and Zhonghao Zhan and Yue Chen and Zhenhao Li},
      year={2025},
      eprint={2501.00879},
      archivePrefix={arXiv},
      primaryClass={cs.CL},
      url={https://arxiv.org/abs/2501.00879}, 
}</code></pre>
  </div>
</section>


<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <a class="icon-link"
         href="https://arxiv.org/pdf/2501.00879">
        <i class="fas fa-file-pdf"></i>
      </a>
      <a class="icon-link" href="https://github.com/HuichiZhou/TrustRAG" class="external-link" disabled>
        <i class="fab fa-github"></i>
      </a>
    </div>
    <div class="columns is-centered">
      <div class="content has-text-centered">
        <div class="content">
          <p>
            Website template borrowed from <a href="https://github.com/nerfies/nerfies.github.io">NeRFies</a>, <a href="https://et-seed.github.io/">ET-SEED</a>.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
